{"ast":null,"code":"import { BASE_API } from \"../utils/constants\";\nexport async function loginApi(formValue) {\n  try {\n    const url = `${BASE_API}/api/auth/login/`;\n    const params = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(formValue)\n    };\n    const response = await fetch(url, params);\n    if (response.status !== 200) {\n      throw new Error(\"Usuario o contraseña incorrectos\");\n    }\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function getMeApi(token) {\n  try {\n    const url = `${BASE_API}/api/auth/me`;\n    const params = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function getUsersApi(token) {\n  try {\n    const url = `${BASE_API}/api/users/`;\n    const params = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function addUserApi(data, token) {\n  try {\n    const url = `${BASE_API}/api/users/`;\n    const params = {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function updateUserApi(id, data, token) {\n  try {\n    const url = `${BASE_API}/api/users/${id}/`;\n    const params = {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function deleteUserApi(id, token) {\n  try {\n    const url = `${BASE_API}/api/users/${id}/`;\n    const params = {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}","map":{"version":3,"names":["BASE_API","loginApi","formValue","url","params","method","headers","body","JSON","stringify","response","fetch","status","Error","result","json","error","getMeApi","token","Authorization","getUsersApi","addUserApi","data","updateUserApi","id","deleteUserApi"],"sources":["C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/src/api/user.js"],"sourcesContent":["import {BASE_API} from \"../utils/constants\";\r\n\r\nexport async function loginApi(formValue){\r\n    try{\r\n        const url= `${BASE_API}/api/auth/login/`;\r\n        const params={\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n            },\r\n            body: JSON.stringify(formValue),\r\n        };\r\n        const response= await fetch(url, params);\r\n\r\n        if(response.status!==200){\r\n            throw new Error (\"Usuario o contraseña incorrectos\");\r\n        }\r\n\r\n        const result= await response.json();\r\n        return result;\r\n    } catch(error){\r\n        throw error\r\n    }\r\n}\r\n\r\nexport async function getMeApi (token){\r\n    try {\r\n        const url =`${BASE_API}/api/auth/me`;\r\n        const params={\r\n            headers:{\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        };\r\n        const response=await fetch(url, params);\r\n        const result=await response.json();\r\n        return result;\r\n        } catch (error) {\r\n        throw error;\r\n    }\r\n}\r\nexport async function getUsersApi(token) {\r\n    try {\r\n      const url = `${BASE_API}/api/users/`;\r\n      const params = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n      const response = await fetch(url, params);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n}\r\n\r\nexport async function addUserApi(data, token) {\r\n    try {\r\n      const url = `${BASE_API}/api/users/`;\r\n      const params = {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n  \r\n      const response = await fetch(url, params);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n  export async function updateUserApi(id, data, token) {\r\n    try {\r\n      const url = `${BASE_API}/api/users/${id}/`;\r\n      const params = {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n  \r\n      const response = await fetch(url, params);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n  export async function deleteUserApi(id, token) {\r\n    try {\r\n      const url = `${BASE_API}/api/users/${id}/`;\r\n      const params = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n  \r\n      const response = await fetch(url, params);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}