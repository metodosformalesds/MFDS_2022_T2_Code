{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{getMeApi,getUsersApi,addUserApi,updateUserApi,deleteUserApi}from\"../api/user\";import{useAuth}from\".\";export function useUser(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),users=_useState6[0],setUsers=_useState6[1];var _useAuth=useAuth(),auth=_useAuth.auth;var getMe=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(token){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getMeApi(token);case 3:response=_context.sent;return _context.abrupt(\"return\",response);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);throw _context.t0;case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getMe(_x){return _ref.apply(this,arguments);};}();var getUsers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading(true);_context2.next=4;return getUsersApi(auth.token);case 4:response=_context2.sent;setLoading(false);setUsers(response);_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);setLoading(false);setError(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function getUsers(){return _ref2.apply(this,arguments);};}();var addUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;setLoading(true);_context3.next=4;return addUserApi(data,auth.token);case 4:setLoading(false);_context3.next=11;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);setLoading(false);setError(_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function addUser(_x2){return _ref3.apply(this,arguments);};}();var updateUser=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id,data){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;setLoading(true);_context4.next=4;return updateUserApi(id,data,auth.token);case 4:setLoading(false);_context4.next=11;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);setLoading(false);setError(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function updateUser(_x3,_x4){return _ref4.apply(this,arguments);};}();var deleteUser=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;setLoading(true);_context5.next=4;return deleteUserApi(id,auth.token);case 4:setLoading(false);_context5.next=11;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);setLoading(false);setError(_context5.t0);case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function deleteUser(_x5){return _ref5.apply(this,arguments);};}();return{loading:loading,error:error,users:users,getMe:getMe,getUsers:getUsers,addUser:addUser,updateUser:updateUser,deleteUser:deleteUser};}","map":{"version":3,"names":["useState","getMeApi","getUsersApi","addUserApi","updateUserApi","deleteUserApi","useAuth","useUser","loading","setLoading","error","setError","users","setUsers","auth","getMe","token","response","getUsers","addUser","data","updateUser","id","deleteUser"],"sources":["C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/src/hooks/useUser.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport {\r\n  getMeApi,\r\n  getUsersApi,\r\n  addUserApi,\r\n  updateUserApi,\r\n  deleteUserApi,\r\n} from \"../api/user\";\r\nimport { useAuth } from \".\";\r\n\r\nexport function useUser() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [users, setUsers] = useState(null);\r\n  const { auth } = useAuth();\r\n\r\n  const getMe = async (token) => {\r\n    try {\r\n      const response = await getMeApi(token);\r\n      return response;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const getUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getUsersApi(auth.token);\r\n      setLoading(false);\r\n      setUsers(response);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const addUser = async (data) => {\r\n    try {\r\n      setLoading(true);\r\n      await addUserApi(data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const updateUser = async (id, data) => {\r\n    try {\r\n      setLoading(true);\r\n      await updateUserApi(id, data, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (id) => {\r\n    try {\r\n      setLoading(true);\r\n      await deleteUserApi(id, auth.token);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    users,\r\n    getMe,\r\n    getUsers,\r\n    addUser,\r\n    updateUser,\r\n    deleteUser,\r\n  };\r\n}"],"mappings":"ubAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OACEC,QAAQ,CACRC,WAAW,CACXC,UAAU,CACVC,aAAa,CACbC,aAAa,KACR,aAAa,CACpB,OAASC,OAAO,KAAQ,GAAG,CAE3B,MAAO,SAASC,QAAO,EAAG,CACxB,cAA8BP,QAAQ,CAAC,IAAI,CAAC,wCAArCQ,OAAO,eAAEC,UAAU,eAC1B,eAA0BT,QAAQ,CAAC,IAAI,CAAC,yCAAjCU,KAAK,eAAEC,QAAQ,eACtB,eAA0BX,QAAQ,CAAC,IAAI,CAAC,yCAAjCY,KAAK,eAAEC,QAAQ,eACtB,aAAiBP,OAAO,EAAE,CAAlBQ,IAAI,UAAJA,IAAI,CAEZ,GAAMC,MAAK,4FAAG,iBAAOC,KAAK,uKAECf,SAAQ,CAACe,KAAK,CAAC,QAAhCC,QAAQ,+CACPA,QAAQ,gJAIlB,kBAPKF,MAAK,4CAOV,CAED,GAAMG,SAAQ,6FAAG,wKAEbT,UAAU,CAAC,IAAI,CAAC,CAAC,uBACMP,YAAW,CAACY,IAAI,CAACE,KAAK,CAAC,QAAxCC,QAAQ,gBACdR,UAAU,CAAC,KAAK,CAAC,CACjBI,QAAQ,CAACI,QAAQ,CAAC,CAAC,mFAEnBR,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,cAAO,CAAC,sEAEnB,kBAVKO,SAAQ,2CAUb,CAED,GAAMC,QAAO,6FAAG,kBAAOC,IAAI,yIAEvBX,UAAU,CAAC,IAAI,CAAC,CAAC,uBACXN,WAAU,CAACiB,IAAI,CAAEN,IAAI,CAACE,KAAK,CAAC,QAClCP,UAAU,CAAC,KAAK,CAAC,CAAC,mFAElBA,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,cAAO,CAAC,sEAEnB,kBATKQ,QAAO,8CASZ,CAED,GAAME,WAAU,6FAAG,kBAAOC,EAAE,CAAEF,IAAI,yIAE9BX,UAAU,CAAC,IAAI,CAAC,CAAC,uBACXL,cAAa,CAACkB,EAAE,CAAEF,IAAI,CAAEN,IAAI,CAACE,KAAK,CAAC,QACzCP,UAAU,CAAC,KAAK,CAAC,CAAC,mFAElBA,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,cAAO,CAAC,sEAEnB,kBATKU,WAAU,kDASf,CAED,GAAME,WAAU,6FAAG,kBAAOD,EAAE,yIAExBb,UAAU,CAAC,IAAI,CAAC,CAAC,uBACXJ,cAAa,CAACiB,EAAE,CAAER,IAAI,CAACE,KAAK,CAAC,QACnCP,UAAU,CAAC,KAAK,CAAC,CAAC,mFAElBA,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,cAAO,CAAC,sEAEnB,kBATKY,WAAU,8CASf,CAED,MAAO,CACLf,OAAO,CAAPA,OAAO,CACPE,KAAK,CAALA,KAAK,CACLE,KAAK,CAALA,KAAK,CACLG,KAAK,CAALA,KAAK,CACLG,QAAQ,CAARA,QAAQ,CACRC,OAAO,CAAPA,OAAO,CACPE,UAAU,CAAVA,UAAU,CACVE,UAAU,CAAVA,UACF,CAAC,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}