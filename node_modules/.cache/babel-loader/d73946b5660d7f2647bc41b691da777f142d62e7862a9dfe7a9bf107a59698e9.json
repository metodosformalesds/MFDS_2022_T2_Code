{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{BASE_API}from\"../utils/constants\";export function loginApi(_x){return _loginApi.apply(this,arguments);}function _loginApi(){_loginApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(formValue){var url,params,response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;url=\"\".concat(BASE_API,\"/api/auth/login/\");params={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formValue)};_context.next=5;return fetch(url,params);case 5:response=_context.sent;if(!(response.status!==200)){_context.next=8;break;}throw new Error(\"Usuario o contraseña incorrectos\");case 8:_context.next=10;return response.json();case 10:result=_context.sent;return _context.abrupt(\"return\",result);case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);throw _context.t0;case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return _loginApi.apply(this,arguments);}export function getMeApi(_x2){return _getMeApi.apply(this,arguments);}function _getMeApi(){_getMeApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(token){var url,params,response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;url=\"\".concat(BASE_API,\"/api/auth/me\");params={headers:{Authorization:\"Bearer \".concat(token)}};_context2.next=5;return fetch(url,params);case 5:response=_context2.sent;_context2.next=8;return response.json();case 8:result=_context2.sent;return _context2.abrupt(\"return\",result);case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);throw _context2.t0;case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,12]]);}));return _getMeApi.apply(this,arguments);}export function getUsersApi(_x3){return _getUsersApi.apply(this,arguments);}function _getUsersApi(){_getUsersApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(token){var url,params,response,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;url=\"\".concat(BASE_API,\"/api/users/\");params={headers:{Authorization:\"Bearer \".concat(token)}};_context3.next=5;return fetch(url,params);case 5:response=_context3.sent;_context3.next=8;return response.json();case 8:result=_context3.sent;return _context3.abrupt(\"return\",result);case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);throw _context3.t0;case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[0,12]]);}));return _getUsersApi.apply(this,arguments);}export function addUserApi(_x4,_x5){return _addUserApi.apply(this,arguments);}function _addUserApi(){_addUserApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(data,token){var url,params,response,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;url=\"\".concat(BASE_API,\"/api/users/\");params={method:\"POST\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"},body:JSON.stringify(data)};_context4.next=5;return fetch(url,params);case 5:response=_context4.sent;_context4.next=8;return response.json();case 8:result=_context4.sent;return _context4.abrupt(\"return\",result);case 12:_context4.prev=12;_context4.t0=_context4[\"catch\"](0);throw _context4.t0;case 15:case\"end\":return _context4.stop();}}},_callee4,null,[[0,12]]);}));return _addUserApi.apply(this,arguments);}export function updateUserApi(_x6,_x7,_x8){return _updateUserApi.apply(this,arguments);}function _updateUserApi(){_updateUserApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id,data,token){var url,params,response,result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;url=\"\".concat(BASE_API,\"/api/users/\").concat(id,\"/\");params={method:\"PATCH\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"},body:JSON.stringify(data)};_context5.next=5;return fetch(url,params);case 5:response=_context5.sent;_context5.next=8;return response.json();case 8:result=_context5.sent;return _context5.abrupt(\"return\",result);case 12:_context5.prev=12;_context5.t0=_context5[\"catch\"](0);throw _context5.t0;case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[0,12]]);}));return _updateUserApi.apply(this,arguments);}export function deleteUserApi(_x9,_x10){return _deleteUserApi.apply(this,arguments);}function _deleteUserApi(){_deleteUserApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id,token){var url,params,response,result;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;url=\"\".concat(BASE_API,\"/api/users/\").concat(id,\"/\");params={method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(token)}};_context6.next=5;return fetch(url,params);case 5:response=_context6.sent;_context6.next=8;return response.json();case 8:result=_context6.sent;return _context6.abrupt(\"return\",result);case 12:_context6.prev=12;_context6.t0=_context6[\"catch\"](0);throw _context6.t0;case 15:case\"end\":return _context6.stop();}}},_callee6,null,[[0,12]]);}));return _deleteUserApi.apply(this,arguments);}","map":{"version":3,"names":["BASE_API","loginApi","formValue","url","params","method","headers","body","JSON","stringify","fetch","response","status","Error","json","result","getMeApi","token","Authorization","getUsersApi","addUserApi","data","updateUserApi","id","deleteUserApi"],"sources":["C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/src/api/user.js"],"sourcesContent":["import {BASE_API} from \"../utils/constants\";\r\n\r\nexport async function loginApi(formValue){\r\n    try{\r\n        const url= `${BASE_API}/api/auth/login/`;\r\n        const params={\r\n            method: \"POST\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n            },\r\n            body: JSON.stringify(formValue),\r\n        };\r\n        const response= await fetch(url, params);\r\n\r\n        if(response.status!==200){\r\n            throw new Error (\"Usuario o contraseña incorrectos\");\r\n        }\r\n\r\n        const result= await response.json();\r\n        return result;\r\n    } catch(error){\r\n        throw error\r\n    }\r\n}\r\n\r\nexport async function getMeApi (token){\r\n    try {\r\n        const url =`${BASE_API}/api/auth/me`;\r\n        const params={\r\n            headers:{\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n        };\r\n        const response=await fetch(url, params);\r\n        const result=await response.json();\r\n        return result;\r\n        } catch (error) {\r\n        throw error;\r\n    }\r\n}\r\nexport async function getUsersApi(token) {\r\n    try {\r\n      const url = `${BASE_API}/api/users/`;\r\n      const params = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n      const response = await fetch(url, params);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n}\r\n\r\nexport async function addUserApi(data, token) {\r\n    try {\r\n      const url = `${BASE_API}/api/users/`;\r\n      const params = {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n  \r\n      const response = await fetch(url, params);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n  export async function updateUserApi(id, data, token) {\r\n    try {\r\n      const url = `${BASE_API}/api/users/${id}/`;\r\n      const params = {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n  \r\n      const response = await fetch(url, params);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n  export async function deleteUserApi(id, token) {\r\n    try {\r\n      const url = `${BASE_API}/api/users/${id}/`;\r\n      const params = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n  \r\n      const response = await fetch(url, params);\r\n      const result = await response.json();\r\n      return result;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }"],"mappings":"0SAAA,OAAQA,QAAQ,KAAO,oBAAoB,CAE3C,eAAsBC,SAAQ,6CAqB7B,yFArBM,iBAAwBC,SAAS,mKAE1BC,GAAG,WAAKH,QAAQ,qBAChBI,MAAM,CAAC,CACTC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAC,CACJ,cAAc,CAAC,kBACnB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACP,SAAS,CAClC,CAAC,uBACqBQ,MAAK,CAACP,GAAG,CAAEC,MAAM,CAAC,QAAlCO,QAAQ,oBAEXA,QAAQ,CAACC,MAAM,GAAG,GAAG,+BACd,IAAIC,MAAK,CAAE,kCAAkC,CAAC,+BAGpCF,SAAQ,CAACG,IAAI,EAAE,SAA7BC,MAAM,+CACLA,MAAM,mJAIpB,2CAED,eAAsBC,SAAQ,8CAc7B,yFAdM,kBAAyBC,KAAK,wKAEvBd,GAAG,WAAKH,QAAQ,iBAChBI,MAAM,CAAC,CACTE,OAAO,CAAC,CACJY,aAAa,kBAAYD,KAAK,CAClC,CACJ,CAAC,wBACoBP,MAAK,CAACP,GAAG,CAAEC,MAAM,CAAC,QAAjCO,QAAQ,uCACKA,SAAQ,CAACG,IAAI,EAAE,QAA5BC,MAAM,iDACLA,MAAM,yJAIpB,2CACD,eAAsBI,YAAW,iDAchC,+FAdM,kBAA2BF,KAAK,wKAE3Bd,GAAG,WAAMH,QAAQ,gBACjBI,MAAM,CAAG,CACbE,OAAO,CAAE,CACPY,aAAa,kBAAYD,KAAK,CAChC,CACF,CAAC,wBACsBP,MAAK,CAACP,GAAG,CAAEC,MAAM,CAAC,QAAnCO,QAAQ,uCACOA,SAAQ,CAACG,IAAI,EAAE,QAA9BC,MAAM,iDACLA,MAAM,yJAIlB,8CAED,eAAsBK,WAAU,oDAkB7B,6FAlBI,kBAA0BC,IAAI,CAAEJ,KAAK,wKAEhCd,GAAG,WAAMH,QAAQ,gBACjBI,MAAM,CAAG,CACbC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACPY,aAAa,kBAAYD,KAAK,CAAE,CAChC,cAAc,CAAE,kBAClB,CAAC,CACDV,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACY,IAAI,CAC3B,CAAC,wBAEsBX,MAAK,CAACP,GAAG,CAAEC,MAAM,CAAC,QAAnCO,QAAQ,uCACOA,SAAQ,CAACG,IAAI,EAAE,QAA9BC,MAAM,iDACLA,MAAM,yJAIhB,6CACD,eAAsBO,cAAa,2DAkBlC,mGAlBM,kBAA6BC,EAAE,CAAEF,IAAI,CAAEJ,KAAK,wKAEzCd,GAAG,WAAMH,QAAQ,uBAAcuB,EAAE,MACjCnB,MAAM,CAAG,CACbC,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,CACPY,aAAa,kBAAYD,KAAK,CAAE,CAChC,cAAc,CAAE,kBAClB,CAAC,CACDV,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACY,IAAI,CAC3B,CAAC,wBAEsBX,MAAK,CAACP,GAAG,CAAEC,MAAM,CAAC,QAAnCO,QAAQ,uCACOA,SAAQ,CAACG,IAAI,EAAE,QAA9BC,MAAM,iDACLA,MAAM,yJAIhB,gDACD,eAAsBS,cAAa,wDAgBlC,mGAhBM,kBAA6BD,EAAE,CAAEN,KAAK,wKAEnCd,GAAG,WAAMH,QAAQ,uBAAcuB,EAAE,MACjCnB,MAAM,CAAG,CACbC,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACPY,aAAa,kBAAYD,KAAK,CAChC,CACF,CAAC,wBAEsBP,MAAK,CAACP,GAAG,CAAEC,MAAM,CAAC,QAAnCO,QAAQ,uCACOA,SAAQ,CAACG,IAAI,EAAE,QAA9BC,MAAM,iDACLA,MAAM,yJAIhB"},"metadata":{},"sourceType":"module","externalDependencies":[]}