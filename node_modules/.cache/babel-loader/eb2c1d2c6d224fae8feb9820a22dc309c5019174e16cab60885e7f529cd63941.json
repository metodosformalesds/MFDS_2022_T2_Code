{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{Button,Form}from\"semantic-ui-react\";import{useFormik}from\"formik\";import*as Yup from\"yup\";import{toast}from\"react-toastify\";import{loginApi}from\"../../../api/user\";import{useAuth}from\"../../../hooks\";import\"./LoginForm.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function LoginForm(){var _useAuth=useAuth(),login=_useAuth.login;console.log(useAuth());var formik=useFormik({initialValues:initialValues(),validationSchema:Yup.object(validationSchema()),onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(formValue){var response,access;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return loginApi(formValue);case 3:response=_context.sent;access=response.access;login(access);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);toast.error(_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});return/*#__PURE__*/_jsxs(Form,{className:\"login-form-admin\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(Form.Input,{name:\"email\",placeholder:\"Correo electronico\",value:formik.values.email,onChange:formik.handleChange,error:formik.errors.email}),/*#__PURE__*/_jsx(Form.Input,{name:\"password\",type:\"password\",placeholder:\"Contrase\\xF1a\",value:formik.values.password,onChange:formik.handleChange,error:formik.errors.password}),/*#__PURE__*/_jsx(Button,{type:\"submit\",content:\"Iniciar sesi\\xF3n\",primary:true,fluid:true})]});}function initialValues(){return{email:\"\",password:\"\"};}//Validaci칩n de campos\nfunction validationSchema(){return{email:Yup.string().email(true).required(true),password:Yup.string().required(true)};}","map":{"version":3,"names":["React","Button","Form","useFormik","Yup","toast","loginApi","useAuth","LoginForm","login","console","log","formik","initialValues","validationSchema","object","onSubmit","formValue","response","access","error","message","handleSubmit","values","email","handleChange","errors","password","string","required"],"sources":["C:/Users/Viane/OneDrive/Desktop/vetLogin/vetlogin_react/src/components/Admin/LoginForm/LoginForm.js"],"sourcesContent":["import React from \"react\";\r\nimport {Button, Form} from \"semantic-ui-react\"\r\nimport {useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport {toast} from \"react-toastify\";\r\nimport {loginApi} from \"../../../api/user\"\r\nimport {useAuth} from \"../../../hooks\";\r\nimport \"./LoginForm.scss\";\r\n\r\n\r\nexport  function LoginForm() {\r\n    const {login} =useAuth();\r\n\r\n    console.log(useAuth());\r\n    const formik=useFormik({\r\n        initialValues:initialValues(),\r\n        validationSchema: Yup.object(validationSchema()),\r\n        onSubmit: async (formValue)=>{\r\n            try {\r\n                const response=await loginApi(formValue);\r\n                const {access}=response;\r\n                login(access);\r\n            } catch (error) {\r\n                toast.error(error.message);\r\n            }\r\n        },\r\n    })\r\n  return (\r\n    \r\n    <Form className=\"login-form-admin\" onSubmit={formik.handleSubmit}>\r\n        <Form.Input \r\n            name=\"email\" \r\n            placeholder=\"Correo electronico\" \r\n            value={formik.values.email} \r\n            onChange={formik.handleChange}\r\n            error={formik.errors.email}\r\n        />\r\n\r\n        <Form.Input \r\n            name=\"password\" \r\n            type=\"password\" \r\n            placeholder=\"Contrase침a\" \r\n            value={formik.values.password} \r\n            onChange={formik.handleChange}\r\n            error={formik.errors.password}\r\n        />\r\n\r\n        <Button type=\"submit\" content=\"Iniciar sesi칩n\" primary fluid/>\r\n    \r\n    </Form>\r\n  );\r\n}\r\n\r\nfunction initialValues(){\r\n    return{\r\n        email:\"\",\r\n        password:\"\"\r\n    }\r\n}\r\n\r\n//Validaci칩n de campos\r\n function validationSchema(){\r\n    return{\r\n        email: Yup.string().email(true).required(true),\r\n        password: Yup.string().required(true)\r\n    }\r\n }"],"mappings":"0SAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAAQC,MAAM,CAAEC,IAAI,KAAO,mBAAmB,CAC9C,OAAQC,SAAS,KAAQ,QAAQ,CACjC,MAAO,GAAKC,IAAG,KAAM,KAAK,CAC1B,OAAQC,KAAK,KAAO,gBAAgB,CACpC,OAAQC,QAAQ,KAAO,mBAAmB,CAC1C,OAAQC,OAAO,KAAO,gBAAgB,CACtC,MAAO,kBAAkB,CAAC,wFAG1B,MAAQ,SAASC,UAAS,EAAG,CACzB,aAAeD,OAAO,EAAE,CAAjBE,KAAK,UAALA,KAAK,CAEZC,OAAO,CAACC,GAAG,CAACJ,OAAO,EAAE,CAAC,CACtB,GAAMK,OAAM,CAACT,SAAS,CAAC,CACnBU,aAAa,CAACA,aAAa,EAAE,CAC7BC,gBAAgB,CAAEV,GAAG,CAACW,MAAM,CAACD,gBAAgB,EAAE,CAAC,CAChDE,QAAQ,oFAAE,iBAAOC,SAAS,8KAEGX,SAAQ,CAACW,SAAS,CAAC,QAAlCC,QAAQ,eACPC,MAAM,CAAED,QAAQ,CAAhBC,MAAM,CACbV,KAAK,CAACU,MAAM,CAAC,CAAC,+EAEdd,KAAK,CAACe,KAAK,CAAC,YAAMC,OAAO,CAAC,CAAC,oEAElC,oFACL,CAAC,CAAC,CACJ,mBAEE,MAAC,IAAI,EAAC,SAAS,CAAC,kBAAkB,CAAC,QAAQ,CAAET,MAAM,CAACU,YAAa,wBAC7D,KAAC,IAAI,CAAC,KAAK,EACP,IAAI,CAAC,OAAO,CACZ,WAAW,CAAC,oBAAoB,CAChC,KAAK,CAAEV,MAAM,CAACW,MAAM,CAACC,KAAM,CAC3B,QAAQ,CAAEZ,MAAM,CAACa,YAAa,CAC9B,KAAK,CAAEb,MAAM,CAACc,MAAM,CAACF,KAAM,EAC7B,cAEF,KAAC,IAAI,CAAC,KAAK,EACP,IAAI,CAAC,UAAU,CACf,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,eAAY,CACxB,KAAK,CAAEZ,MAAM,CAACW,MAAM,CAACI,QAAS,CAC9B,QAAQ,CAAEf,MAAM,CAACa,YAAa,CAC9B,KAAK,CAAEb,MAAM,CAACc,MAAM,CAACC,QAAS,EAChC,cAEF,KAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,mBAAgB,CAAC,OAAO,MAAC,KAAK,OAAE,GAE3D,CAEX,CAEA,QAASd,cAAa,EAAE,CACpB,MAAM,CACFW,KAAK,CAAC,EAAE,CACRG,QAAQ,CAAC,EACb,CAAC,CACL,CAEA;AACC,QAASb,iBAAgB,EAAE,CACxB,MAAM,CACFU,KAAK,CAAEpB,GAAG,CAACwB,MAAM,EAAE,CAACJ,KAAK,CAAC,IAAI,CAAC,CAACK,QAAQ,CAAC,IAAI,CAAC,CAC9CF,QAAQ,CAAEvB,GAAG,CAACwB,MAAM,EAAE,CAACC,QAAQ,CAAC,IAAI,CACxC,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}